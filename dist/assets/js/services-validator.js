const REQUIRED_FIELDS=["id","title","category","categoryId","description","keywords","fee","processingTime","office","url"];function validateServiceEntry(e){const r=[],t=[];if(!e||"object"!=typeof e)return{valid:!1,errors:["Entry is not an object"],warnings:[]};for(const t of REQUIRED_FIELDS)t in e?null===e[t]||void 0===e[t]?r.push(`Field "${t}" is null or undefined`):"keywords"!==t&&"string"==typeof e[t]&&""===e[t].trim()&&r.push(`Field "${t}" is empty`):r.push(`Missing required field: ${t}`);return"keywords"in e&&!Array.isArray(e.keywords)&&r.push('Field "keywords" must be an array'),"url"in e&&"string"==typeof e.url&&(e.url.endsWith(".html")||e.url.startsWith("http")||t.push(`URL "${e.url}" may not be a valid page reference`)),"id"in e&&"string"==typeof e.id&&(/^[a-z0-9-]+$/.test(e.id)||t.push(`ID "${e.id}" should be kebab-case (lowercase with hyphens)`)),{valid:0===r.length,errors:r,warnings:t}}function validateServicesData(e){const r=[],t=[],i=[];if(!e||"object"!=typeof e)return{valid:!1,errors:["Data is not an object"],warnings:[],entryResults:[]};if(!("services"in e))return{valid:!1,errors:['Missing "services" array'],warnings:[],entryResults:[]};if(!Array.isArray(e.services))return{valid:!1,errors:['"services" is not an array'],warnings:[],entryResults:[]};0===e.services.length&&t.push("Services array is empty");const s=new Set;for(let n=0;n<e.services.length;n++){const a=e.services[n],o=validateServiceEntry(a);i.push({index:n,id:a?.id||`entry-${n}`,...o}),a?.id&&(s.has(a.id)&&r.push(`Duplicate service ID: ${a.id}`),s.add(a.id)),o.errors.forEach(e=>r.push(`Entry ${n} (${a?.id||"unknown"}): ${e}`)),o.warnings.forEach(e=>t.push(`Entry ${n} (${a?.id||"unknown"}): ${e}`))}return{valid:0===r.length,errors:r,warnings:t,entryResults:i}}function validateServiceUrls(e,r=""){const t=[];if("undefined"==typeof require)return{valid:!0,brokenUrls:[]};const i=require("fs"),s=require("path");for(const n of e){if(!n.url)continue;if(n.url.startsWith("http://")||n.url.startsWith("https://"))continue;const e=s.join(r,"public_html","services");let a;a=(n.url.startsWith("../"),s.resolve(e,n.url));const o=a.split("?")[0].split("#")[0];i.existsSync(o)||t.push({serviceId:n.id,url:n.url,resolvedPath:o})}return{valid:0===t.length,brokenUrls:t}}function getServiceCategories(e){const r=new Map;for(const t of e)t.categoryId&&t.category&&(r.has(t.categoryId)||r.set(t.categoryId,{categoryId:t.categoryId,category:t.category,count:0}),r.get(t.categoryId).count++);return Array.from(r.values())}"undefined"!=typeof module&&module.exports&&(module.exports={REQUIRED_FIELDS:REQUIRED_FIELDS,validateServiceEntry:validateServiceEntry,validateServicesData:validateServicesData,validateServiceUrls:validateServiceUrls,getServiceCategories:getServiceCategories});