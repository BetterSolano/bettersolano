async function fetchOrdinances(){try{const n=await fetch("../data/ordinances.json");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(await n.json()).ordinances||[]}catch(n){return console.error("Error fetching ordinances:",n),[]}}function sortOrdinancesByNumber(n){return[...n].sort((n,e)=>{const t=parseInt(n.ordinanceNo.split("-")[1],10);return parseInt(e.ordinanceNo.split("-")[1],10)-t})}function formatOrdinanceNo(n){return n}function formatSessionDate(n){try{const e=new Date(n+"T00:00:00");return isNaN(e.getTime())?n:e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(e){return console.warn("Invalid date format:",n),n}}function renderOrdinanceTable(n){const e=document.getElementById("ordinance-table-body");if(e){if(e.innerHTML="",!n||0===n.length){const n=document.createElement("tr");return n.innerHTML='\n            <td colspan="3" class="text-center text-muted">\n                No ordinances found for 2025\n            </td>\n        ',void e.appendChild(n)}n.forEach(n=>{if(!n.ordinanceNo||!n.title||!n.sessionDate)return void console.warn("Skipping invalid ordinance record:",n);const t=document.createElement("tr");t.innerHTML=`\n            <td data-label="Ordinance No.">${formatOrdinanceNo(n.ordinanceNo)}</td>\n            <td data-label="Title">${n.title}</td>\n            <td data-label="Session Date">${formatSessionDate(n.sessionDate)}</td>\n        `,e.appendChild(t)})}else console.error("Ordinance table body element not found")}async function initOrdinanceTable(){try{const n=await fetchOrdinances();renderOrdinanceTable(sortOrdinancesByNumber(n))}catch(n){console.error("Error initializing ordinance table:",n);const e=document.getElementById("ordinance-table-body");e&&(e.innerHTML='\n                <tr>\n                    <td colspan="3" class="text-center text-muted">\n                        Unable to load ordinances. Please try again later.\n                    </td>\n                </tr>\n            ')}}document.addEventListener("DOMContentLoaded",initOrdinanceTable),"undefined"!=typeof module&&module.exports&&(module.exports={fetchOrdinances:fetchOrdinances,sortOrdinancesByNumber:sortOrdinancesByNumber,formatOrdinanceNo:formatOrdinanceNo,formatSessionDate:formatSessionDate,renderOrdinanceTable:renderOrdinanceTable,initOrdinanceTable:initOrdinanceTable});